---
title: "Tidyr 101"
author: "Esteban Marianadin"
format: html
---

```{r}
here::i_am("dm-course-git-101.Rproj")
library(here)
library(dplyr)
library(tidyr)
library(slider)
library(tidyverse)

```

```{r}
library(ggplot2)
```

```{r}
data("EuStockMarkets")
```

##Displaying one time series

```{r}
ggplot(EuStockMarkets, aes(y=DAX,x=time(EuStockMarkets)))+
  geom_line()+
```

```{r}
EuStockMarkets<-
  EuStockMarkets|>
  as_tibble() |>
  mutate(date= as.numeric(time(EuStockMarkets)))
```

### Poor man's solution


```{r}
ggplot(EuStockMarkets, aes(y=CAC,x=date))+
  geom_line(color='steelblue')+
  geom_line(mapping=aes(y=DAX), color='salmon')
```
#TIDYR Solution

```{r}
EuStockMarkets|>
  pivot_longer(!date, names_to="index") |>
  ggplot(aes(x=data, y=value, color=index))+
  geom_line() ## Marche pas il me manque une partie du code avant.
``` 
```{r}
EuStockMarkets |>
  pivot_longer(everything()) |>
  slide_head(n=18) |>
  knitr::kable()
```















\`\`\`
